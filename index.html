<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Reaction Tester</title>
  <link rel="stylesheet" href="mystyle.css" type="text/css">
</head>

  <body>
    
    <h2>Reaction Tester</h2>
    <p>Click the squares of circles as quickly as you can!  </p>
    <p style="font-size:13px;font-weight:700;">Reaction time: <span id="reactionTime"></span></p>

  <p id="musicSel">Please select music</p>

    <select onchange="getSelectedValue();" id="musicSelection">

      <option value="starWars"id="starWars">Star Wars Theme</option>
      <option value="gameOf" id="gameOf">Game of Thrones</option>
      <option value="chef" id="chef">Chef's Special</option>

    </select>  

    <div id="obj"></div>

     <audio id="starWarsTheme">
<source src="https://www.thesoundarchive.com/starwars/star-wars-theme-song.mp3" type="audio/mpeg">

    </audio>

    <audio id="gotTheme">
      <source src="https://ypvnxx00-a.akamaihd.net/downloads/ringtones/files/dl/mp3/game-of-thrones-theme-song-ringtone-30782.mp3" type="audio/mpeg">
    </audio>

    <button id="start">Select</button> 
    <script>

      function getSelectedValue() {

        var selectedValue = document.getElementById("musicSelection").value;
        console.log(selectedValue);
        return selectedValue;

      }

      function musicSelector() {

        var value = getSelectedValue();

        if(value == "starWars") {

          var mus = document.getElementById("starWarsTheme");

          mus.play();

        }
        
        else if (value == "chef") {

          alert("c≈üeee");

        }

        else if (value == "gameOf") {

          var mus = document.getElementById("gotTheme");

          mus.play();

        }

      
      }   

      document.getElementById("start").onclick = function() {

        getSelectedValue();

        musicSelector();

      }

   

     

     // document.getElementById("mm").style.textAlign = "right";

      zero = new Date();

      var rad = Math.random() <= 0.5 ? 0 : 100;

      var lf = Math.floor(Math.random() * 90);

      var tp = Math.floor(Math.random() * 300);

     // document.getElementById("zero").style.width = "100px";
    //  document.getElementById("zero").style.height = "100px";
      document.getElementById("obj").style.width = "100px";
      document.getElementById("obj").style.height = "100px"; 

      function getRandomColor() {
        var letters = '0123456789ABCDEF';
        var color = '#';
        for (var i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
      }

  

      function randomObjectAppear() {

      //  document.getElementById("zero").style.display = "none";

        var rad = Math.random() <= 0.5 ? 0 : 100;

        var lf = Math.floor(Math.random() * 90);

        var tp = Math.floor(Math.random() * 300);

        var wrandomnumber = Math.floor(Math.random() * (150 - 75 + 1)) + 75;

        document.getElementById("obj").style.width = wrandomnumber +"px";

        document.getElementById("obj").style.height = wrandomnumber + "px";

        document.getElementById("obj").style.borderRadius = rad + "%"; 

        document.getElementById("obj").style.backgroundColor = getRandomColor();

        document.getElementById("obj").style.left = lf + "%";
  
        document.getElementById("obj").style.top= tp + "px";

        document.getElementById("obj").style.display = "block";

        startTime = new Date();

      }

      function clickTrigger() {


        randomObjectAppear();

        document.getElementById("obj").style.display = "none";

        randomObjectAppear();

        

      }

      var avg = 0;

      function calculateReactionTime() {

        endTime = new Date();

        var reactionTime = parseInt(endTime-startTime,10);

        if(avg == 0) {

          avg = reactionTime;

        }

        else {

          avg = (reactionTime + avg) / 2;


        }

        realAverage = avg.toFixed(2);

        document.getElementById("reactionTime").innerHTML = reactionTime + " ms" + " average ms: " + realAverage;
      }

      

     /* document.getElementById("zero").style.borderRadius = rad + "%"; 

      
      document.getElementById("zero").style.backgroundColor = getRandomColor();

      document.getElementById("zero").style.left = lf + "%";

      document.getElementById("zero").style.top= tp + "px";

      document.getElementById("zero").onclick = function() {
        randomObjectAppear();
      }*/

      randomObjectAppear();

      document.getElementById("obj").onclick = function() {

     /*   randomObjectAppear();

        document.getElementById("obj").style.display = "none";

        randomObjectAppear();*/

        calculateReactionTime();

        clickTrigger();


      }
    </script>



  </body>
</html>